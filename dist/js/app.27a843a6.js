(function(){"use strict";var e={2274:function(e,n,t){var o=t(9242),a=t(3396);const s={class:"cont"};function r(e,n,t,o,r,u){const i=(0,a.up)("VueHeader"),c=(0,a.up)("VueLogin"),l=(0,a.up)("VueChatView");return(0,a.wg)(),(0,a.iD)("div",s,[(0,a.Wm)(i,{onLogout:o.logout},null,8,["onLogout"]),""===o.state.name||null===o.state.name?((0,a.wg)(),(0,a.j4)(c,{key:0,onUpdate:o.userLogin},null,8,["onUpdate"])):((0,a.wg)(),(0,a.j4)(l,{key:1,onSend:o.send},null,8,["onSend"]))])}var u=t(1178),i=t(7139),c=t(2763);const l={key:0,class:"name"},p={key:1,class:"welcome"};function g(e,n,t,o,s,r){return(0,a.wg)(),(0,a.iD)("header",null,[""==o.q.name?((0,a.wg)(),(0,a.iD)("div",l,"Fichat")):((0,a.wg)(),(0,a.iD)("div",p,"Welcome,"+(0,i.zw)(o.q.name),1)),""!=o.q.name?((0,a.wg)(),(0,a.iD)("img",{key:2,onClick:n[0]||(n[0]=n=>e.$emit("logout")),src:c,alt:"sgi-out",srcset:""})):(0,a.kq)("",!0)])}var m=t(4870),d={setup(){const{state:e,onMounted:n}=(0,a.f3)("state");let t=(0,m.qj)();return t=e,console.log(t),{q:t}}},f=t(89);const v=(0,f.Z)(d,[["render",g]]);var b=v;const h={class:"pg_Login"},w={class:"form_Login"},_=(0,a._)("button",{class:"btn_Login",type:"submit"},"Login",-1);function y(e,n,t,s,r,u){return(0,a.wg)(),(0,a.iD)("div",h,[(0,a._)("div",w,[(0,a._)("form",{onSubmit:n[1]||(n[1]=(0,o.iM)((n=>e.$emit("update",s.inp)),["prevent"]))},[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":n[0]||(n[0]=e=>s.inp=e),class:"name_Login",type:"text",name:"",id:"",placeholder:"Enter your name..."},null,512),[[o.nr,s.inp]]),_],32)])])}var k={setup(){const e=(0,m.iH)("");return{inp:e}}};const j=(0,f.Z)(k,[["render",y]]);var q=j,D=t(9745);const L={class:"pg_Chat"},O={class:"cht_Container"},V={class:"msgs scrollbar"},x={class:"msg1"},C={key:0,class:"name"},M={class:"txt"},H={class:"msg_Input"},S=(0,a._)("label",null,[(0,a._)("img",{src:D,alt:"",srcset:""}),(0,a._)("input",{class:"msg_Send",type:"submit",value:""})],-1);function U(e,n,t,s,r,u){return(0,a.wg)(),(0,a.iD)("div",L,[(0,a._)("div",O,[(0,a._)("div",V,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.q.messages,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e.key,class:(0,i.C_)(e.username==s.q.name?"msg_Container2":"msg_Container1")},[(0,a._)("div",x,[e.username!=s.q.name?((0,a.wg)(),(0,a.iD)("div",C,(0,i.zw)(e.username),1)):(0,a.kq)("",!0),(0,a._)("div",M,(0,i.zw)(e.content),1)])],2)))),128))]),(0,a._)("div",H,[(0,a._)("form",{onSubmit:n[1]||(n[1]=(0,o.iM)((n=>e.$emit("send",s.msg)),["prevent"]))},[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":n[0]||(n[0]=e=>s.msg=e),class:"msg_Text",type:"text",placeholder:"Message..."},null,512),[[o.nr,s.msg]]),S],32)])])])}var Z={components:{},setup(){const e=(0,m.iH)(""),{state:n,onMounted:t}=(0,a.f3)("state");let o=(0,m.qj)();return o=n,{msg:e,q:o}}};const I=(0,f.Z)(Z,[["render",U]]);var z=I,E=t(4275);const F={apiKey:"AIzaSyD9YTBMsst9g0D-JmZ7UEfenXgwdlQW9ts",authDomain:"fichat-4baa0.firebaseapp.com",databaseURL:"https://fichat-4baa0-default-rtdb.europe-west1.firebasedatabase.app",projectId:"fichat-4baa0",storageBucket:"fichat-4baa0.appspot.com",messagingSenderId:"228653004164",appId:"1:228653004164:web:6cb4e95e1a03abc5d359d1"},T=(0,E.ZF)(F);(0,u.N8)(T);var J={name:"App",components:{VueHeader:b,VueLogin:q,VueChatView:z},setup(){const e=(0,m.iH)(""),n=(0,m.iH)(""),t=(0,u.N8)(),o=(0,m.qj)({name:"",messages:[]}),s=n=>{e.value=n,console.log(e.value),""==e.value&&null==e.value||(o.name=e.value,e.value="")},r=e=>{if(n.value=e,console.log(n.value),""===n.value||null===n.value)return;const a={username:o.name,content:n.value};(0,u.VF)((0,u.iH)(t,"messages"),a),n.value=""};(0,a.bv)((()=>{const e=(0,u.N8)(T),n=(0,u.iH)(e,"messages");(0,u.jM)(n,(e=>{const n=e.val();let t=[];Object.keys(n).forEach((e=>{t.push({id:e,username:n[e].username,content:n[e].content})})),o.messages=t,console.log(o)}))})),console.log(o),(0,a.JJ)("state",{state:o,onMounted:a.bv});const i=()=>{o.name=""};return{login:e,userLogin:s,send:r,inputMessage:n,state:o,logout:i}}};const N=(0,f.Z)(J,[["render",r]]);var W=N;(0,o.ri)(W).mount("#app")},9745:function(e,n,t){e.exports=t.p+"img/paper-plane.37d57729.svg"},2763:function(e,n,t){e.exports=t.p+"img/sign-out-alt.847e2336.svg"}},n={};function t(o){var a=n[o];if(void 0!==a)return a.exports;var s=n[o]={exports:{}};return e[o](s,s.exports,t),s.exports}t.m=e,function(){var e=[];t.O=function(n,o,a,s){if(!o){var r=1/0;for(l=0;l<e.length;l++){o=e[l][0],a=e[l][1],s=e[l][2];for(var u=!0,i=0;i<o.length;i++)(!1&s||r>=s)&&Object.keys(t.O).every((function(e){return t.O[e](o[i])}))?o.splice(i--,1):(u=!1,s<r&&(r=s));if(u){e.splice(l--,1);var c=a();void 0!==c&&(n=c)}}return n}s=s||0;for(var l=e.length;l>0&&e[l-1][2]>s;l--)e[l]=e[l-1];e[l]=[o,a,s]}}(),function(){t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,{a:n}),n}}(),function(){t.d=function(e,n){for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){t.p="/"}(),function(){var e={143:0};t.O.j=function(n){return 0===e[n]};var n=function(n,o){var a,s,r=o[0],u=o[1],i=o[2],c=0;if(r.some((function(n){return 0!==e[n]}))){for(a in u)t.o(u,a)&&(t.m[a]=u[a]);if(i)var l=i(t)}for(n&&n(o);c<r.length;c++)s=r[c],t.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return t.O(l)},o=self["webpackChunkfichat"]=self["webpackChunkfichat"]||[];o.forEach(n.bind(null,0)),o.push=n.bind(null,o.push.bind(o))}();var o=t.O(void 0,[998],(function(){return t(2274)}));o=t.O(o)})();
//# sourceMappingURL=app.27a843a6.js.map